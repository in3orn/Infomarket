{% extends 'benchmark/index.html.twig' %}

{% set mainPath = 'category' %}
{% set extPath = '_show' %}
{% set title = title|default('title.categories')|trans %}
	
{% block moreJavascripts %}
	<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
{% endblock %}
	
{% block content %}
	<div class="container-fluid">
		<div class="row equal">
			<div class="col-xs-12 col-sm-4 col-md-3 col-lg-2 side-filter">
				{% block sidebar %}
					<div class="col-xs-12">
						<h3>{{ category.name }} {{ category.subname }}</h3>
					</div>
					
					{% block categoryFilterForm %}
						{% form_theme categoryFilter 'form/fields.html.twig' %}
						
						{{ form_start(categoryFilter) }}
							<div class="col-xs-12">
								{{ form_row(categoryFilter.category, { label: 'label.benchmark.category' }) }}
							</div>
							<div class="col-xs-12">
									{{ form_row(categoryFilter.submit, { 'icon': 'fa-check', 'label': 'action.submit', 'attr': {'class': 'btn btn-success'} }) }}
							</div>		
						{{ form_end(categoryFilter) }}
						
						{% form_theme subcategoryFilter 'form/fields.html.twig' %}
						
						{{ form_start(subcategoryFilter) }}
							<div class="col-xs-12">
								{{ form_row(subcategoryFilter.subcategory, { label: 'label.benchmark.subcategory' }) }}
							</div>
							<div class="col-xs-12">
								{{ form_row(subcategoryFilter.submit, { 'icon': 'fa-check', 'label': 'action.submit', 'attr': {'class': 'btn btn-success'} }) }}
							</div>	
						{{ form_end(subcategoryFilter) }}
					{% endblock %}
					
				{% endblock %}
			</div>
			
			<div class="col-xs-12 col-sm-8 col-md-9 col-lg-10 main-content">
				{% if entry.preleaf %}
					{% include 'benchmark/category/show_category.html.twig' %}
				{% else %}
					{% include 'benchmark/category/show_subcategory.html.twig' %}
				{% endif %}
			</div>	
		</div>
	</div>
{% endblock %}
