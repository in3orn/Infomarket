{% extends 'benchmark/index.html.twig' %}

{% set mainPath = 'product' %}
{% set title = title|default('title.products')|trans %}
	
{% block content %}
	<div class="container-fluid">
{# 		<div class="col-sm-2">#}
{# 			{% block sidebar %}#}
{# 				<div class="col-xs-12">#}
{# 					<h3>{{ entry.brand.name }} - {{ entry.name }}</h3>#}
					
{# 					<div class="rect">#}
{# 			    		{% if entry.image %}#}
{# 							{% include 'common/image/image_entry.html.twig' with { 'entry': entry } %}#}
{# 						{% endif %}#}
{# 					</div>#}
{# 				</div>#}
				
{# 				<a class="btn btn-warning" href="{{ path(basePath ~ mainPath ~ '_compare', { id: entry.id }) }}">#}
{# 					<span class="fa fa-balance-scale"></span>#}
{# 					{{ 'action.compare'|trans }}#}
{# 				</a>#}
{# 				{% if not entry.custom %}#}
{# 					{% if benchmarkMessage %}#}
{# 						{% set messagePath = basePath ~ 'benchmark_message_show' %}#}
{# 						{% set messageParams = { id: benchmarkMessage.id } %}#}
{# 					{% else %}#}
{# 						{% set messagePath = basePath ~ 'benchmark_message_new' %}#}
{# 						{% set messageParams = { product: entry.id } %}#}
{# 					{% endif %}#}
{# 					<a class="btn btn-danger" href="{{ path(messagePath, messageParams) }}">#}
{# 						<span class="fa fa-exclamation-circle"></span>#}
{# 						{{ 'action.reportError'|trans }}#}
{# 					</a>#}
{# 				{% endif %}#}
{# 			{% endblock %}#}
{# 		</div>#}
{# 		<div class="col-sm-10">#}
			{% block itemHeaderContent %}
				<div class="row">
					<div class="col-sm-4 col-md-3">
						<div class="rect">
				    		{% if entry.image %}
								{% include 'common/image/image_entry.html.twig' with { 'entry': entry } %}
							{% endif %}
						</div>
					</div>
					<div class="col-sm-8 col-md-9">
						<h2>{{ entry.brand.name }}</h2>
						<h3>{{ entry.name }}</h3>
						
						<h1 class="text-success lowered-25">{{ overalNote|number_format(1, '.', ' ') }}</h1>
						<p>{{ 'label.benchmark.note'|trans }}</p>
						
						<h1 class="text-success lowered-25">{{ priceFactor|number_format(1, '.', ' ') }}</h1>
						<p>{{ 'label.benchmark.priceFactor'|trans }}</p>
					</div>
				</div>
			{% endblock %}
			
			{% block tableContent %}
				<div class="row">
					<div class="col-xs-12">
						<table class="table table-striped vert-align">
							<tr>
								<th class="text-center">{{ 'label.benchmark.param'|trans }}</th>
								
								<th class="text-center">{{ 'label.benchmark.value'|trans }}</th>
								<th class="text-center">{{ 'label.benchmark.betterThan'|trans }}</th>
								<th class="text-center">{{ 'label.benchmark.note'|trans }}</th>
								
								<th></th>
							</tr>
							
							<tr>
								<th class="text-right">{{ 'label.benchmark.product.price'|trans }}</th>
								
								<td class="text-center">{{ entry.price|number_format(2, '.', ' ') }}</td>
								<td class="text-center text-success">-</td>
								<td class="text-center">-</td>
								
								<td></td>
							</tr>
							
							{% for field in benchmarkFields %}
								{% set key = field.valueField %}
								{% if field.fieldType == constant('AppBundle\\Entity\\BenchmarkField::DECIMAL_FIELD_TYPE') or 
										field.fieldType == constant('AppBundle\\Entity\\BenchmarkField::INTEGER_FIELD_TYPE') %}
									<tr>
										<th class="text-right">{{ field.fieldName }}</th>
										
										<td class="text-center">{{ entry[key]|number_format(field.decimalPlaces, '.', ' ') }}</td>
										<td class="text-center text-success">{{ field.betterThan ? field.betterThan|number_format(0, '.', ' ') ~ '%' : '-' }}</td>
										<td class="text-center">{{ field.note ? field.note|number_format(1, '.', ' ') : '-' }}</td>
										
										<td></td>
									</tr>
								{% elseif field.fieldType == constant('AppBundle\\Entity\\BenchmarkField::BOOLEAN_FIELD_TYPE') %}
									<tr>
										<th class="text-right">{{ field.fieldName }}</th>
										
										<td class="text-center">{{ entry[key] ? '+' : '-' }}</td>
										<td class="text-center text-success">{{ field.betterThan ? field.betterThan|number_format(0, '.', ' ') ~ '%' : '-' }}</td>
										<td class="text-center">{{ field.note ? field.note|number_format(1, '.', ' ') : '-' }}</td>
										
										<td></td>
									</tr>
								{% elseif field.fieldType == constant('AppBundle\\Entity\\BenchmarkField::SINGLE_ENUM_FIELD_TYPE') or
											field.fieldType == constant('AppBundle\\Entity\\BenchmarkField::MULTI_ENUM_FIELD_TYPE') %}
									<tr>
										<th class="text-right">{{ field.fieldName }}</th>
										
										<td class="text-center">{{ entry[key] }}</td>
										<td class="text-center text-success">-</td>
										<td class="text-center">{{ field.note ? field.note|number_format(1, '.', ' ') : '-' }}</td>
										
										<td></td>
									</tr>
								{% else %}
									<tr>
										<th class="text-right">{{ field.fieldName }}</th>
										
										<td class="text-center">{{ entry[key] }}</td>
										<td class="text-center text-success">-</td>
										<td class="text-center">-</td>
										
										<td></td>
									</tr>
								{% endif %}
							{% endfor %}
						</table>
					</div>
				</div>
			{% endblock %}
{# 		</div>	#}
	</div>
{% endblock %}
