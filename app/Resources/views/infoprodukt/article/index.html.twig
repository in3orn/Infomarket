{% extends 'infoprodukt/base/index.html.twig' %}

{% set title = 'title.articles'|trans %}
{% set mainPath = 'article' %}
		
{% block mainContent %}
	{% block articles %}
	<div class="row">
		<div class="col-xs-12">
			<h1>{{ 'title.articles'|trans }}</h1>
			
			{% for entry in entries%}
				<div class="row">
					<div class="panel">
						<div class="panel-body">
							<div class="col-sm-3">
								<div class="rect">
									<img class="div-center" src="{{ asset(entry.getImagePath()) }}">
								</div>
							</div>
							<div class="col-sm-9">
								{% for articleBrandAssignment in entry.articleBrandAssignments %}
									<a href="{{ path(basePath ~ 'brand_show', { id: articleBrandAssignment.brand.id }) }}">
										<h3 class="text-red">{{ articleBrandAssignment.brand.name | raw }} </h3>
									</a> 
								{% endfor %}
								
								<a href="{{ path('infoprodukt_' ~ mainPath ~ '_show', { 'id': entry.id }) }}">
									<h3>
										<span class="text-brand">{{ entry.name | raw }}</span> 
										<span class="text-red">{{ entry.subname | raw }}</span>
									</h3>
								</a>
								<p class="text-muted">
									<span class="fa fa-calendar"></span> {{ entry.publishedAt | date('Y-m-d') }}
									{% if entry.publishedBy %}
										, <span class="fa fa-user"></span> {{ entry.publishedBy.name }}
									{% endif %}
								</p>
								<p>
									{% if entry.intro | length > 0 %}
										{{ entry.intro | raw }}
									{% else %}
										{{ entry.content[:256] | raw }}...
									{% endif %}
								</p>
								<a class="btn btn-danger" href="{{ path('infoprodukt_' ~ mainPath ~ '_show', { 'id': entry.id }) }}">
									{{ 'label.readMore'|trans }}
								</a>
								<div class="vr-space-10"></div>
							</div>
						</div>
					</div>
				</div>
			{% else %}
				<p>{{ 'label.noEntries'|trans }}</p>
			{% endfor %}
		</div>
	</div>
	{% endblock %}
	
	{% block paginator %}
	<div class="row">
		<div class="col-xs-12">
	        {{ knp_pagination_render(entries) }}
		</div>
	</div>
	{% endblock %}
{% endblock %}
